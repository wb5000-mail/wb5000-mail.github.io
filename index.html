<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Открыть в браузере</title>

<style>
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}
html, body {
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}
body {
    background-color: #4a4a4a;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    overflow: hidden;
    padding: 15px;
}
.model-items {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 380px;
}
.prompt-modal {
    background-color: #f8f8f8;
    border-radius: 14px;
    padding: 18px 20px;
    text-align: center;
    width: 100%;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    margin-bottom: 10px;
    position: relative;
    z-index: 5;
}
.modal-title {
    font-weight: 600;
    font-size: 1.05em;
    color: #1c1e21;
    margin-bottom: 12px;
}
.modal-divider {
    height: 1px;
    background-color: #e0e0e0;
    margin: 0 -20px 12px -20px;
}
.modal-text {
    font-size: 0.95em;
    color: #555;
    line-height: 1.4;
}
.button-open {
    margin-top: 15px;
    padding: 12px;
    width: 100%;
    border: none;
    border-radius: 10px;
    font-size: 15px;
    cursor: pointer;
    background: #007aff;
    color: #fff;
}
.vpn-note {
    margin-top: 12px;
    font-size: 13px;
    color: #777;
    display: none;
}
.curved-arrow-svg {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 70px;
    filter: drop-shadow(0px 1px 1px rgba(0, 0, 0, 0.3));
    z-index: 100;
    pointer-events: none;
}
#arrow-path {
    stroke-dasharray: var(--path-length, 1000);
    stroke-dashoffset: var(--path-length, 1000);
    animation: drawArrow .8s ease-in-out infinite;
    animation-delay: 0.5s;
}
@keyframes drawArrow {
    0% { stroke-dashoffset: var(--path-length, 1000); }
    70%,100% { stroke-dashoffset: 0; }
}
#arrowhead-shape {
    opacity: 0;
    animation: fadeInArrowhead ease-in-out .8s infinite;
    animation-delay: 0.5s;
}
@keyframes fadeInArrowhead {
    0%,65% { opacity: 0; }
    75%,100% { opacity: 1; }
}
</style>
</head>

<body>

<svg class="curved-arrow-svg" viewBox="0 0 100 100">
<defs>
<marker id="arrowhead" markerWidth="7" markerHeight="5" refX="3" refY="1.75" orient="-75deg" markerUnits="strokeWidth">
<polygon id="arrowhead-shape" points="0 0, 5 1.75, 0 3.5" fill="white"></polygon>
</marker>
</defs>
<path id="arrow-path" d="M 30 90 Q 70 90 80 50 T 90 10"
fill="none" stroke="white" stroke-width="6"
stroke-linecap="round" marker-end="url(#arrowhead)"></path>
</svg>

<div class="model-items">
<div class="prompt-modal">
<h3 class="modal-title">Открыть в браузере</h3>
<div class="modal-divider"></div>
<p class="modal-text">
Для корректной работы сайта нажмите <b>...</b> в правом верхнем углу и выберите <b>Открыть в браузере</b>
</p>

<button class="button-open" onclick="manualRedirect()">
Я уже открыл в браузере
</button>

<p id="vpnNote" class="vpn-note">
Если сайт отображается неправильно, попробуйте временно отключить VPN и открыть ссылку снова.
</p>

</div>
</div>

<script>
const FINAL_URL = "https://gotoprofit.ru/stream/tiktok_marathon";

let redirected = false;

function manualRedirect(){
    window.location.replace(FINAL_URL);
}

// Редирект после сворачивания WebView
document.addEventListener("visibilitychange", function(){
    if(document.visibilityState === "hidden" && !redirected){
        redirected = true;
        setTimeout(function(){
            window.location.replace(FINAL_URL);
        },1500);
    }
});

// Показываем подсказку про VPN через 4 секунды
setTimeout(function(){
    document.getElementById("vpnNote").style.display = "block";
},4000);

// Анимация стрелки
document.addEventListener('DOMContentLoaded', function(){
    const arrowPath = document.getElementById('arrow-path');
    const pathLength = arrowPath.getTotalLength();
    arrowPath.style.setProperty('--path-length', pathLength);
    arrowPath.style.strokeDasharray = pathLength;
    arrowPath.style.strokeDashoffset = pathLength;
});
</script>

</body>
</html>
